\hypertarget{message_8hpp}{}\section{src/message.hpp File Reference}
\label{message_8hpp}\index{src/message.\+hpp@{src/message.\+hpp}}
{\ttfamily \#include \char`\"{}utilities.\+hpp\char`\"{}}\\*
{\ttfamily \#include $<$sys/socket.\+h$>$}\\*
{\ttfamily \#include $<$unistd.\+h$>$}\\*
{\ttfamily \#include $<$string.\+h$>$}\\*
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \hyperlink{class_message}{Message}
\begin{DoxyCompactList}\small\item\em A class used for defining all message types Messages come in two forms. \end{DoxyCompactList}\item 
class \hyperlink{class_message_1_1_msg}{Message\+::\+Msg}
\begin{DoxyCompactList}\small\item\em Defines the types of messages which can be sent. \end{DoxyCompactList}\item 
struct \hyperlink{struct_message_1_1_msg_1_1_message_type}{Message\+::\+Msg\+::\+Message\+Type$<$ only\+\_\+header, Info $>$}
\begin{DoxyCompactList}\small\item\em A templated message class A valid message is defined by constructing a \hyperlink{struct_message_1_1_msg_1_1_message_type}{Message\+Type} around it. \end{DoxyCompactList}\item 
struct \hyperlink{struct_message_1_1_msg_1_1_message_type_3_01true_00_01_info_01_4}{Message\+::\+Msg\+::\+Message\+Type$<$ true, Info $>$}
\begin{DoxyCompactList}\small\item\em A specification for header only messages. \end{DoxyCompactList}\item 
struct \hyperlink{struct_message_1_1_msg_1_1_message_type_3_01false_00_01_info_01_4}{Message\+::\+Msg\+::\+Message\+Type$<$ false, Info $>$}
\begin{DoxyCompactList}\small\item\em A specification for non-\/header only messages. \end{DoxyCompactList}\item 
struct \hyperlink{struct_message_1_1_new_signal_info}{Message\+::\+New\+Signal\+Info}
\begin{DoxyCompactList}\small\item\em A class containing the header of New\+Signal message. \end{DoxyCompactList}\item 
struct \hyperlink{struct_message_1_1_continue_info}{Message\+::\+Continue\+Info}
\begin{DoxyCompactList}\small\item\em A class containing the header of Continue message. \end{DoxyCompactList}\item 
struct \hyperlink{struct_message_1_1_call_info}{Message\+::\+Call\+Info}
\begin{DoxyCompactList}\small\item\em A class containing the header of Call message. \end{DoxyCompactList}\item 
struct \hyperlink{struct_message_1_1_ret_info}{Message\+::\+Ret\+Info}
\begin{DoxyCompactList}\small\item\em A class containing the header of Call message. \end{DoxyCompactList}\item 
struct \hyperlink{struct_message_1_1_fork_info}{Message\+::\+Fork\+Info}
\begin{DoxyCompactList}\small\item\em A class containing the header of Fork message. \end{DoxyCompactList}\item 
struct \hyperlink{struct_message_1_1_thread_info}{Message\+::\+Thread\+Info}
\begin{DoxyCompactList}\small\item\em A class containing the header of Thread message. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{message_8hpp_a70eafdf190b8f3be16349543fe1b39ae}{P\+O\+I\+N\+T\+E\+R\+\_\+\+S\+I\+ZE}~( sizeof(void $\ast$) )
\begin{DoxyCompactList}\small\item\em The size of a pointer in the target program To run on 32 bit programs, change this value! \end{DoxyCompactList}\item 
\#define \hyperlink{message_8hpp_ac119f42bacd57152815371e9527d1059}{M\+E\+S\+S\+A\+G\+E\+\_\+\+H\+E\+A\+D\+E\+R\+\_\+\+L\+E\+N\+G\+TH}~4
\begin{DoxyCompactList}\small\item\em The number of characters a message header can be. \end{DoxyCompactList}\item 
\#define \hyperlink{message_8hpp_aeca90e1c1c62b70670514ffc18c9dfd4}{M\+E\+S\+S\+A\+G\+E\+\_\+\+S\+I\+ZE}~(\hyperlink{message_8hpp_a70eafdf190b8f3be16349543fe1b39ae}{P\+O\+I\+N\+T\+E\+R\+\_\+\+S\+I\+ZE} + \hyperlink{message_8hpp_ac119f42bacd57152815371e9527d1059}{M\+E\+S\+S\+A\+G\+E\+\_\+\+H\+E\+A\+D\+E\+R\+\_\+\+L\+E\+N\+G\+TH})
\begin{DoxyCompactList}\small\item\em The size of a message. \end{DoxyCompactList}\item 
\#define \hyperlink{message_8hpp_a557da6efaea4f48fbee7baa4413337d3}{M\+E\+S\+S\+A\+G\+E\+\_\+\+I\+N\+T\+E\+R\+N\+A\+LS}(H\+E\+A\+D\+E\+R\+\_\+\+O\+N\+LY)
\begin{DoxyCompactList}\small\item\em The internals of a message. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
{\footnotesize template$<$typename Msg $>$ }\\void \hyperlink{message_8hpp_a3aa9717aa0491750127da5a9a495b581}{send\+\_\+msg} (const int \hyperlink{dr__external__ss__events_8cpp_a5903d0b282fc5eae503de618f896b5e1}{sock})
\begin{DoxyCompactList}\small\item\em Sends a header only Msg to sock. \end{DoxyCompactList}\item 
{\footnotesize template$<$typename Msg $>$ }\\void \hyperlink{message_8hpp_af23b6dee074534894de2efbc329cb3ca}{send\+\_\+msg} (const int \hyperlink{dr__external__ss__events_8cpp_a5903d0b282fc5eae503de618f896b5e1}{sock}, const char $\ast$const bdy)
\begin{DoxyCompactList}\small\item\em Sends a non-\/header only Msg with body bdy to sock. \end{DoxyCompactList}\item 
{\footnotesize template$<$typename Msg $>$ }\\void \hyperlink{message_8hpp_a9d1c074d1a62c33e7fa3d41ada211992}{recv\+\_\+msg} (const int \hyperlink{dr__external__ss__events_8cpp_a5903d0b282fc5eae503de618f896b5e1}{sock})
\begin{DoxyCompactList}\small\item\em Reads a header only Msg from sock. \end{DoxyCompactList}\item 
{\footnotesize template$<$typename Msg $>$ }\\const char $\ast$ \hyperlink{message_8hpp_a660dddbd2c4ab0b1be441aa9aa948f56}{recv\+\_\+msg\+\_\+and\+\_\+body} (const int \hyperlink{dr__external__ss__events_8cpp_a5903d0b282fc5eae503de618f896b5e1}{sock})
\begin{DoxyCompactList}\small\item\em Reads a only Msg from sock This function is {\bfseries N\+OT} reentrant. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\index{message.\+hpp@{message.\+hpp}!M\+E\+S\+S\+A\+G\+E\+\_\+\+H\+E\+A\+D\+E\+R\+\_\+\+L\+E\+N\+G\+TH@{M\+E\+S\+S\+A\+G\+E\+\_\+\+H\+E\+A\+D\+E\+R\+\_\+\+L\+E\+N\+G\+TH}}
\index{M\+E\+S\+S\+A\+G\+E\+\_\+\+H\+E\+A\+D\+E\+R\+\_\+\+L\+E\+N\+G\+TH@{M\+E\+S\+S\+A\+G\+E\+\_\+\+H\+E\+A\+D\+E\+R\+\_\+\+L\+E\+N\+G\+TH}!message.\+hpp@{message.\+hpp}}
\subsubsection[{\texorpdfstring{M\+E\+S\+S\+A\+G\+E\+\_\+\+H\+E\+A\+D\+E\+R\+\_\+\+L\+E\+N\+G\+TH}{MESSAGE_HEADER_LENGTH}}]{\setlength{\rightskip}{0pt plus 5cm}\#define M\+E\+S\+S\+A\+G\+E\+\_\+\+H\+E\+A\+D\+E\+R\+\_\+\+L\+E\+N\+G\+TH~4}\hypertarget{message_8hpp_ac119f42bacd57152815371e9527d1059}{}\label{message_8hpp_ac119f42bacd57152815371e9527d1059}


The number of characters a message header can be. 

\index{message.\+hpp@{message.\+hpp}!M\+E\+S\+S\+A\+G\+E\+\_\+\+I\+N\+T\+E\+R\+N\+A\+LS@{M\+E\+S\+S\+A\+G\+E\+\_\+\+I\+N\+T\+E\+R\+N\+A\+LS}}
\index{M\+E\+S\+S\+A\+G\+E\+\_\+\+I\+N\+T\+E\+R\+N\+A\+LS@{M\+E\+S\+S\+A\+G\+E\+\_\+\+I\+N\+T\+E\+R\+N\+A\+LS}!message.\+hpp@{message.\+hpp}}
\subsubsection[{\texorpdfstring{M\+E\+S\+S\+A\+G\+E\+\_\+\+I\+N\+T\+E\+R\+N\+A\+LS}{MESSAGE_INTERNALS}}]{\setlength{\rightskip}{0pt plus 5cm}\#define M\+E\+S\+S\+A\+G\+E\+\_\+\+I\+N\+T\+E\+R\+N\+A\+LS(
\begin{DoxyParamCaption}
\item[{}]{H\+E\+A\+D\+E\+R\+\_\+\+O\+N\+LY}
\end{DoxyParamCaption}
)}\hypertarget{message_8hpp_a557da6efaea4f48fbee7baa4413337d3}{}\label{message_8hpp_a557da6efaea4f48fbee7baa4413337d3}
{\bfseries Value\+:}
\begin{DoxyCode}
                    \(\backslash\)
            static \textcolor{keyword}{const} constexpr \textcolor{keywordtype}{bool} header\_only = HEADER\_ONLY;          \(\backslash\)                           \(\backslash\)
            static \textcolor{keyword}{const} constexpr \textcolor{keywordtype}{int} size = \hyperlink{message_8hpp_aeca90e1c1c62b70670514ffc18c9dfd4}{MESSAGE\_SIZE};                 \(\backslash\)                               
      \(\backslash\)
            static \textcolor{keyword}{const} constexpr \textcolor{keywordtype}{char} * \textcolor{keyword}{const} header = Info::header;      \(\backslash\)                       \(\backslash\)
            static\_assert( strlen(Info::header) == \hyperlink{message_8hpp_ac119f42bacd57152815371e9527d1059}{MESSAGE\_HEADER\_LENGTH},  \(\backslash\)
                \textcolor{stringliteral}{"Header is of wrong size."} );                               \(\backslash\)                           \(\backslash\)
            MessageType<HEADER\_ONLY, Info>() = \textcolor{keyword}{delete};
\end{DoxyCode}


The internals of a message. 

We use a macro to enforce consistency \index{message.\+hpp@{message.\+hpp}!M\+E\+S\+S\+A\+G\+E\+\_\+\+S\+I\+ZE@{M\+E\+S\+S\+A\+G\+E\+\_\+\+S\+I\+ZE}}
\index{M\+E\+S\+S\+A\+G\+E\+\_\+\+S\+I\+ZE@{M\+E\+S\+S\+A\+G\+E\+\_\+\+S\+I\+ZE}!message.\+hpp@{message.\+hpp}}
\subsubsection[{\texorpdfstring{M\+E\+S\+S\+A\+G\+E\+\_\+\+S\+I\+ZE}{MESSAGE_SIZE}}]{\setlength{\rightskip}{0pt plus 5cm}\#define M\+E\+S\+S\+A\+G\+E\+\_\+\+S\+I\+ZE~({\bf P\+O\+I\+N\+T\+E\+R\+\_\+\+S\+I\+ZE} + {\bf M\+E\+S\+S\+A\+G\+E\+\_\+\+H\+E\+A\+D\+E\+R\+\_\+\+L\+E\+N\+G\+TH})}\hypertarget{message_8hpp_aeca90e1c1c62b70670514ffc18c9dfd4}{}\label{message_8hpp_aeca90e1c1c62b70670514ffc18c9dfd4}


The size of a message. 

\index{message.\+hpp@{message.\+hpp}!P\+O\+I\+N\+T\+E\+R\+\_\+\+S\+I\+ZE@{P\+O\+I\+N\+T\+E\+R\+\_\+\+S\+I\+ZE}}
\index{P\+O\+I\+N\+T\+E\+R\+\_\+\+S\+I\+ZE@{P\+O\+I\+N\+T\+E\+R\+\_\+\+S\+I\+ZE}!message.\+hpp@{message.\+hpp}}
\subsubsection[{\texorpdfstring{P\+O\+I\+N\+T\+E\+R\+\_\+\+S\+I\+ZE}{POINTER_SIZE}}]{\setlength{\rightskip}{0pt plus 5cm}\#define P\+O\+I\+N\+T\+E\+R\+\_\+\+S\+I\+ZE~( sizeof(void $\ast$) )}\hypertarget{message_8hpp_a70eafdf190b8f3be16349543fe1b39ae}{}\label{message_8hpp_a70eafdf190b8f3be16349543fe1b39ae}


The size of a pointer in the target program To run on 32 bit programs, change this value! 



\subsection{Function Documentation}
\index{message.\+hpp@{message.\+hpp}!recv\+\_\+msg@{recv\+\_\+msg}}
\index{recv\+\_\+msg@{recv\+\_\+msg}!message.\+hpp@{message.\+hpp}}
\subsubsection[{\texorpdfstring{recv\+\_\+msg(const int sock)}{recv_msg(const int sock)}}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename Msg $>$ void recv\+\_\+msg (
\begin{DoxyParamCaption}
\item[{const int}]{sock}
\end{DoxyParamCaption}
)}\hypertarget{message_8hpp_a9d1c074d1a62c33e7fa3d41ada211992}{}\label{message_8hpp_a9d1c074d1a62c33e7fa3d41ada211992}


Reads a header only Msg from sock. 

\index{message.\+hpp@{message.\+hpp}!recv\+\_\+msg\+\_\+and\+\_\+body@{recv\+\_\+msg\+\_\+and\+\_\+body}}
\index{recv\+\_\+msg\+\_\+and\+\_\+body@{recv\+\_\+msg\+\_\+and\+\_\+body}!message.\+hpp@{message.\+hpp}}
\subsubsection[{\texorpdfstring{recv\+\_\+msg\+\_\+and\+\_\+body(const int sock)}{recv_msg_and_body(const int sock)}}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename Msg $>$ const char$\ast$ recv\+\_\+msg\+\_\+and\+\_\+body (
\begin{DoxyParamCaption}
\item[{const int}]{sock}
\end{DoxyParamCaption}
)}\hypertarget{message_8hpp_a660dddbd2c4ab0b1be441aa9aa948f56}{}\label{message_8hpp_a660dddbd2c4ab0b1be441aa9aa948f56}


Reads a only Msg from sock This function is {\bfseries N\+OT} reentrant. 

\index{message.\+hpp@{message.\+hpp}!send\+\_\+msg@{send\+\_\+msg}}
\index{send\+\_\+msg@{send\+\_\+msg}!message.\+hpp@{message.\+hpp}}
\subsubsection[{\texorpdfstring{send\+\_\+msg(const int sock)}{send_msg(const int sock)}}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename Msg $>$ void send\+\_\+msg (
\begin{DoxyParamCaption}
\item[{const int}]{sock}
\end{DoxyParamCaption}
)}\hypertarget{message_8hpp_a3aa9717aa0491750127da5a9a495b581}{}\label{message_8hpp_a3aa9717aa0491750127da5a9a495b581}


Sends a header only Msg to sock. 

\index{message.\+hpp@{message.\+hpp}!send\+\_\+msg@{send\+\_\+msg}}
\index{send\+\_\+msg@{send\+\_\+msg}!message.\+hpp@{message.\+hpp}}
\subsubsection[{\texorpdfstring{send\+\_\+msg(const int sock, const char $\ast$const bdy)}{send_msg(const int sock, const char *const bdy)}}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename Msg $>$ void send\+\_\+msg (
\begin{DoxyParamCaption}
\item[{const int}]{sock, }
\item[{const char $\ast$const}]{bdy}
\end{DoxyParamCaption}
)}\hypertarget{message_8hpp_af23b6dee074534894de2efbc329cb3ca}{}\label{message_8hpp_af23b6dee074534894de2efbc329cb3ca}


Sends a non-\/header only Msg with body bdy to sock. 

