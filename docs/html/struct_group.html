<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Shadow Stack: Group Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Shadow Stack
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&#160;Structure&#160;Index</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a>  </div>
  <div class="headertitle">
<div class="title">Group Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A static class holding the group functions.  
 <a href="struct_group.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="group_8hpp_source.html">group.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a9e2d7e0c56696de4592f1b166188c10a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_group.html#a9e2d7e0c56696de4592f1b166188c10a">setup</a> ()</td></tr>
<tr class="memdesc:a9e2d7e0c56696de4592f1b166188c10a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setup the group.  <a href="#a9e2d7e0c56696de4592f1b166188c10a">More...</a><br /></td></tr>
<tr class="separator:a9e2d7e0c56696de4592f1b166188c10a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8867a6d9f7987d3db83bf193bf42f858"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_group.html#a8867a6d9f7987d3db83bf193bf42f858">terminate</a> (const char *const msg, bool is_error=false)</td></tr>
<tr class="memdesc:a8867a6d9f7987d3db83bf193bf42f858"><td class="mdescLeft">&#160;</td><td class="mdescRight">Terminates the process group via SIGKILL.  <a href="#a8867a6d9f7987d3db83bf193bf42f858">More...</a><br /></td></tr>
<tr class="separator:a8867a6d9f7987d3db83bf193bf42f858"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2db75d95407105dceb19a644750d001d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_group.html#a2db75d95407105dceb19a644750d001d">register_delete_proc_rc</a> (void(*call)())</td></tr>
<tr class="memdesc:a2db75d95407105dceb19a644750d001d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers the proc_rc destructor.  <a href="#a2db75d95407105dceb19a644750d001d">More...</a><br /></td></tr>
<tr class="separator:a2db75d95407105dceb19a644750d001d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a737564dd9819ea8050f6f3019c550da2"><td class="memItemLeft" align="right" valign="top">static void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_group.html#a737564dd9819ea8050f6f3019c550da2">delete_proc_rc</a> )() = nullptr</td></tr>
<tr class="memdesc:a737564dd9819ea8050f6f3019c550da2"><td class="mdescLeft">&#160;</td><td class="mdescRight">The recorded callback to the proc_rc destructor.  <a href="#a737564dd9819ea8050f6f3019c550da2">More...</a><br /></td></tr>
<tr class="separator:a737564dd9819ea8050f6f3019c550da2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:a35632ca452cfe09fbf723539cd264f58"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_group.html#a35632ca452cfe09fbf723539cd264f58">setup_complete</a> = false</td></tr>
<tr class="memdesc:a35632ca452cfe09fbf723539cd264f58"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used to tell if the process group has started.  <a href="#a35632ca452cfe09fbf723539cd264f58">More...</a><br /></td></tr>
<tr class="separator:a35632ca452cfe09fbf723539cd264f58"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A static class holding the group functions. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a2db75d95407105dceb19a644750d001d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Group::register_delete_proc_rc </td>
          <td>(</td>
          <td class="paramtype">void(*)()&#160;</td>
          <td class="paramname"><em>call</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Registers the proc_rc destructor. </p>
<p>This function exists as <a class="el" href="group_8cpp.html">group.cpp</a> may NOT include <a class="el" href="proc__rc_8hpp.html">proc_rc.hpp</a>, as <a class="el" href="proc__rc_8hpp.html">proc_rc.hpp</a> generally uses pthreads internally. DynamoRIO does not play nice with pthreads. Thus to free allocated memory, a callback registration is required </p>

</div>
</div>
<a class="anchor" id="a9e2d7e0c56696de4592f1b166188c10a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Group::setup </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Setup the group. </p>
<p>This function should NOT be called by the dynamorio client. By then the group will already be set up! This function first sets up the process group Then change the default signal handlers of all non-excluded signals to terminate the group when called. Also sets up the group refrence counter. This function is <b>NOT</b> thread safe, and should never be run after threading / forking has occured! </p>

</div>
</div>
<a class="anchor" id="a8867a6d9f7987d3db83bf193bf42f858"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Group::terminate </td>
          <td>(</td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>is_error</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Terminates the process group via SIGKILL. </p>
<p>Frees shared memeory via delete_proc_rc If is_error is set to true, msg is logged to the ERROR file, otherwise it is logged via <a class="el" href="class_utilities.html#a0e46f2da74b1069eb9df671efed9180d" title="Prints the arguments as printf would to the stdout and log files. ">Utilities::message</a> If msg is nullptr, no message is passed. If this function ends up calling itself, immediate process group termination will occur </p>

</div>
</div>
<h2 class="groupheader">Field Documentation</h2>
<a class="anchor" id="a737564dd9819ea8050f6f3019c550da2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void(* Group::delete_proc_rc)() = nullptr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The recorded callback to the proc_rc destructor. </p>

</div>
</div>
<a class="anchor" id="a35632ca452cfe09fbf723539cd264f58"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Group::setup_complete = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Used to tell if the process group has started. </p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following files:<ul>
<li>src/<a class="el" href="group_8hpp_source.html">group.hpp</a></li>
<li>src/<a class="el" href="group_8cpp.html">group.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
